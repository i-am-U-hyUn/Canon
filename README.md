# Canon Print Management System

ìºë…¼ ë³µí•©ê¸° í†µí•© ì¶œë ¥ ê´€ë¦¬ ì†”ë£¨ì…˜ - ì—”í„°í”„ë¼ì´ì¦ˆê¸‰ ë¹„ìš© ì ˆê° ë° ìì› ìµœì í™” ì‹œìŠ¤í…œ

https://github.com/user-attachments/assets/3de1be89-77f9-4bf8-b066-23ad218ff6ea

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

Microsoft Azure Universal Printì™€ ìœ ì‚¬í•œ í†µí•© ì¶œë ¥ ê´€ë¦¬ í”Œë«í¼ìœ¼ë¡œ, ìºë…¼ ë³µí•©ê¸° í™˜ê²½ì— íŠ¹í™”ëœ ì†”ë£¨ì…˜ì…ë‹ˆë‹¤.

### ì£¼ìš” ê¸°ëŠ¥

#### ğŸ“Š ì¶œë ¥ëŸ‰/ë¹„ìš© ëŒ€ì‹œë³´ë“œ
- **ë¶€ì„œë³„/ì§ì›ë³„/ê¸°ì¢…ë³„** ì¶œë ¥ëŸ‰ ì‹¤ì‹œê°„ í†µê³„
- **ì»¬ëŸ¬/í‘ë°±** ë¹„ìš© í™˜ì‚° ë° ROI ë¶„ì„
- í”„ë¦°í„° **ì‰í¬Â·í† ë„ˆÂ·ìš©ì§€** ì†Œëª¨ ì˜ˆì¸¡ (ML ê¸°ë°˜)
- ì›”ë³„/ë¶„ê¸°ë³„ ë¹„ìš© íŠ¸ë Œë“œ ë¶„ì„

#### ğŸ–¨ï¸ Fleet Management (ì¥ë¹„ ëª¨ë‹ˆí„°ë§)
- ë³µí•©ê¸° ìƒíƒœ **ì‹¤ì‹œê°„ ì¡°íšŒ** (SNMP/IPP í”„ë¡œí† ì½œ)
  - í† ë„ˆ ì”ëŸ‰ (C/M/Y/K)
  - ìš©ì§€ ë¶€ì¡± ê°ì§€
  - ìš©ì§€ ê±¸ë¦¼, í•˜ë“œì›¨ì–´ ì˜¤ë¥˜
- ì¥ì•  ë°œìƒ ì‹œ **ì¦‰ì‹œ ì•Œë¦¼** (Email/Slack/Teams)
- ì˜ˆë°© ì •ë¹„ ìŠ¤ì¼€ì¤„ë§

#### ğŸ’° ë¹„ìš© ì ˆê° ìë™ ì •ì±…
- **ì»¬ëŸ¬ â†’ í‘ë°± ìë™ ë³€í™˜** (ë¬¸ì„œ ë¶„ì„ ê¸°ë°˜)
- **ì–‘ë©´ ì¶œë ¥ ê°•ì œ** (í™˜ê²½ ì •ì±…)
- ì¶œë ¥ ìŠ¹ì¸ ì›Œí¬í”Œë¡œìš° (ê³ ë¹„ìš© ì‘ì—…)
- í• ë‹¹ëŸ‰ ê´€ë¦¬ (ë¶€ì„œë³„ ì›”ê°„ ì˜ˆì‚°)

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Frontend (React)                      â”‚
â”‚          ì¶œë ¥ ëŒ€ì‹œë³´ë“œ / ì¥ë¹„ ëª¨ë‹ˆí„°ë§ UI                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Spring Boot API Server  â”‚  â”‚  .NET Monitoring Agent    â”‚
â”‚  - ì¶œë ¥ í†µê³„ API         â”‚  â”‚  - SNMP/IPP ìˆ˜ì§‘          â”‚
â”‚  - ë¹„ìš© ë¶„ì„ ì—”ì§„        â”‚  â”‚  - ì¥ë¹„ ìƒíƒœ í´ë§         â”‚
â”‚  - ì •ì±… ì—”ì§„             â”‚  â”‚  - ì‹¤ì‹œê°„ ì•Œë¦¼            â”‚
â”‚  - ë¦¬í¬íŒ…                â”‚  â”‚  - ë“œë¼ì´ë²„ ì—°ë™          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                              â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   PostgreSQL DB     â”‚
         â”‚   - ì¶œë ¥ íˆìŠ¤í† ë¦¬   â”‚
         â”‚   - ì¥ë¹„ ì •ë³´       â”‚
         â”‚   - ì‚¬ìš©ì/ë¶€ì„œ     â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚    Redis Cache      â”‚
         â”‚   - ì‹¤ì‹œê°„ ìƒíƒœ     â”‚
         â”‚   - í†µê³„ ìºì‹±       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### Backend
- **Spring Boot 3.2** (Java 17)
  - Spring Data JPA
  - Spring Security (JWT)
  - Spring Batch (í†µê³„ ì§‘ê³„)
  - WebSocket (ì‹¤ì‹œê°„ ì•Œë¦¼)
- **.NET 8.0** (C#)
  - SNMP Protocol (SnmpSharpNet)
  - IPP Protocol
  - Hangfire (ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…)
  - SignalR (ì‹¤ì‹œê°„ í†µì‹ )

### Database
- **PostgreSQL 16** (ë©”ì¸ DB)
- **Redis 7** (ìºì‹±, ì‹¤ì‹œê°„ ìƒíƒœ)
- **TimescaleDB** (ì‹œê³„ì—´ ë°ì´í„°)

### Frontend
- **React 18** + TypeScript
- **Recharts** (ì°¨íŠ¸)
- **Ant Design** (UI ì»´í¬ë„ŒíŠ¸)

### DevOps
- **Docker** + Docker Compose
- **Nginx** (ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ)

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
Canon/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ spring-api/              # Spring Boot API ì„œë²„
â”‚   â”‚   â”œâ”€â”€ src/main/java/
â”‚   â”‚   â”‚   â””â”€â”€ com/canon/printmanagement/
â”‚   â”‚   â”‚       â”œâ”€â”€ controller/  # REST API
â”‚   â”‚   â”‚       â”œâ”€â”€ service/     # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â”‚       â”œâ”€â”€ repository/  # DB ì ‘ê·¼
â”‚   â”‚   â”‚       â”œâ”€â”€ entity/      # JPA ì—”í‹°í‹°
â”‚   â”‚   â”‚       â”œâ”€â”€ dto/         # DTO
â”‚   â”‚   â”‚       â””â”€â”€ config/      # ì„¤ì •
â”‚   â”‚   â””â”€â”€ pom.xml
â”‚   â”‚
â”‚   â””â”€â”€ dotnet-agent/            # .NET ëª¨ë‹ˆí„°ë§ ì—ì´ì „íŠ¸
â”‚       â”œâ”€â”€ CanonMonitoringAgent/
â”‚       â”‚   â”œâ”€â”€ Services/        # SNMP/IPP ì„œë¹„ìŠ¤
â”‚       â”‚   â”œâ”€â”€ Models/          # ë°ì´í„° ëª¨ë¸
â”‚       â”‚   â””â”€â”€ Workers/         # ë°±ê·¸ë¼ìš´ë“œ ì›Œì»¤
â”‚       â””â”€â”€ CanonMonitoringAgent.sln
â”‚
â”œâ”€â”€ frontend/                     # React ëŒ€ì‹œë³´ë“œ
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â””â”€â”€ services/
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ database/
â”‚   â”œâ”€â”€ init.sql                 # ì´ˆê¸° ìŠ¤í‚¤ë§ˆ
â”‚   â””â”€â”€ migrations/              # ë§ˆì´ê·¸ë ˆì´ì…˜
â”‚
â”œâ”€â”€ docker-compose.yml
â””â”€â”€ README.md
```

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### 1. í™˜ê²½ ì„¤ì •

```bash
# ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/i-am-U-hyUn/Canon.git
cd Canon

# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
```

### 2. Dockerë¡œ ì „ì²´ ì‹œìŠ¤í…œ ì‹¤í–‰

```bash
docker-compose up -d
```

### 3. ê°œë³„ ì„œë¹„ìŠ¤ ì‹¤í–‰ (ê°œë°œ ëª¨ë“œ)

#### Spring Boot API
```bash
cd backend/spring-api
./mvnw spring-boot:run
```

#### .NET Agent
```bash
cd backend/dotnet-agent
dotnet run --project CanonMonitoringAgent
```

#### React Frontend
```bash
cd frontend
npm install
npm start
```

## ğŸ“Š ì£¼ìš” API ì—”ë“œí¬ì¸íŠ¸

### ì¶œë ¥ í†µê³„
- `GET /api/v1/print-jobs/stats` - ì „ì²´ í†µê³„
- `GET /api/v1/print-jobs/by-department` - ë¶€ì„œë³„
- `GET /api/v1/print-jobs/by-user` - ì‚¬ìš©ìë³„
- `GET /api/v1/print-jobs/cost-analysis` - ë¹„ìš© ë¶„ì„

### ì¥ë¹„ ê´€ë¦¬
- `GET /api/v1/printers` - í”„ë¦°í„° ëª©ë¡
- `GET /api/v1/printers/{id}/status` - ì‹¤ì‹œê°„ ìƒíƒœ
- `GET /api/v1/printers/{id}/alerts` - ì•Œë¦¼ ë‚´ì—­
- `POST /api/v1/printers/{id}/predict-maintenance` - ì˜ˆë°© ì •ë¹„

### ì •ì±… ê´€ë¦¬
- `GET /api/v1/policies` - ì •ì±… ëª©ë¡
- `POST /api/v1/policies` - ì •ì±… ìƒì„±
- `PUT /api/v1/policies/{id}` - ì •ì±… ìˆ˜ì •

## ğŸ”§ í•µì‹¬ ê¸°ëŠ¥ ìƒì„¸

### 1. ì¶œë ¥ëŸ‰ ìˆ˜ì§‘ ë°©ì‹

```java
// Spring Boot - ì¶œë ¥ ì‘ì—… ìˆ˜ì§‘
@Service
public class PrintJobCollectorService {
    // Windows Print Spooler ë¡œê·¸ íŒŒì‹±
    // CUPS ë¡œê·¸ íŒŒì‹± (Linux/Mac)
    // ë„¤íŠ¸ì›Œí¬ í”„ë¦°í„° SNMP ì¹´ìš´í„° ì¡°íšŒ
}
```

### 2. SNMP ì¥ë¹„ ëª¨ë‹ˆí„°ë§

```csharp
// .NET - SNMP í”„ë¦°í„° ìƒíƒœ ì¡°íšŒ
public class SnmpPrinterMonitor {
    // OID: 1.3.6.1.2.1.43.11.1.1.9 (í† ë„ˆ ì”ëŸ‰)
    // OID: 1.3.6.1.2.1.43.8.2.1.10 (ìš©ì§€ ë§¤ìˆ˜)
    // 5ë¶„ë§ˆë‹¤ í´ë§ -> Redis ì €ì¥
}
```

### 3. ë¹„ìš© ì ˆê° ì •ì±… ì—”ì§„

```java
@Component
public class CostOptimizationEngine {
    // ì»¬ëŸ¬ í•„ìš”ì„± ë¶„ì„ (ì´ë¯¸ì§€ ë¹„ìœ¨ < 10% â†’ í‘ë°± ë³€í™˜)
    // ì–‘ë©´ ì¶œë ¥ ê°€ëŠ¥ ì—¬ë¶€ ì²´í¬
    // ë¶€ì„œë³„ í• ë‹¹ëŸ‰ ì´ˆê³¼ ì‹œ ìŠ¹ì¸ ìš”ì²­
}
```

## ğŸ“ˆ ì„±ëŠ¥ ìµœì í™”

### ë°ì´í„°ë² ì´ìŠ¤ ì¸ë±ì‹±
```sql
CREATE INDEX idx_print_jobs_created_at ON print_jobs(created_at);
CREATE INDEX idx_print_jobs_department ON print_jobs(department_id);
CREATE INDEX idx_print_jobs_user ON print_jobs(user_id);
```

### Redis ìºì‹± ì „ëµ
- í”„ë¦°í„° ìƒíƒœ: TTL 5ë¶„
- í†µê³„ ë°ì´í„°: TTL 1ì‹œê°„
- ì‹¤ì‹œê°„ ëŒ€ì‹œë³´ë“œ: WebSocket í‘¸ì‹œ

### ë°°ì¹˜ ì²˜ë¦¬
- ì¼ì¼ í†µê³„ ì§‘ê³„: Spring Batch (ìƒˆë²½ 2ì‹œ)
- ì›”ê°„ ë¦¬í¬íŠ¸: ë§¤ì›” 1ì¼ ìë™ ìƒì„±

## ğŸ“ ìºë…¼ ì½”ë¦¬ì•„ ì§€ì› ì—°ê´€ì„±

### ì§ë¬´ ìš”êµ¬ì‚¬í•­ ë§¤ì¹­
âœ… **Spring ê¸°ë°˜ ì›¹ ë° API ì„œë²„ ê°œë°œ**
- Spring Boot REST API ì„¤ê³„
- Spring Data JPAë¥¼ í†µí•œ íš¨ìœ¨ì ì¸ DB ì—°ë™
- Spring Batchë¡œ ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬

âœ… **.NETì„ í™œìš©í•œ ì„œë²„ ê°œë°œ**
- .NET 8 ê¸°ë°˜ ëª¨ë‹ˆí„°ë§ ì—ì´ì „íŠ¸
- SNMP/IPP í”„ë¡œí† ì½œ í™œìš©í•œ ë³µí•©ê¸° í†µì‹ 
- Hangfireë¥¼ í†µí•œ ë°±ê·¸ë¼ìš´ë“œ ì‘ì—… ê´€ë¦¬

âœ… **ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™ ë° ì„±ëŠ¥ ê°œì„ **
- PostgreSQL ì¸ë±ìŠ¤ ìµœì í™”
- Redis ìºì‹± ì „ëµ
- TimescaleDBë¥¼ í™œìš©í•œ ì‹œê³„ì—´ ë°ì´í„° ê´€ë¦¬
- ì¿¼ë¦¬ ì„±ëŠ¥ íŠœë‹ (N+1 ë¬¸ì œ í•´ê²°)

### ë³µí•©ê¸° ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ ê²½í—˜
- í”„ë¦°í„° ë“œë¼ì´ë²„ í†µì‹  í”„ë¡œí† ì½œ ì´í•´
- ì—”í„°í”„ë¼ì´ì¦ˆ ì¶œë ¥ í™˜ê²½ ê´€ë¦¬ ê²½í—˜
- ë¹„ìš© ìµœì í™” ë° ìì› ê´€ë¦¬ ì†”ë£¨ì…˜ ê°œë°œ

## ğŸ“ ë¼ì´ì„ ìŠ¤

MIT License

## ğŸ‘¤ ê°œë°œì

**ì§€ì›ì**: [ì •ìœ í˜„] 
**í¬ì§€ì…˜**: ìºë…¼ ì½”ë¦¬ì•„ ì†”ë£¨ì…˜ ê°œë°œ (ë³µí•©ê¸° ì†Œí”„íŠ¸ì›¨ì–´)  
**GitHub**: [@i-am-U-hyUn](https://github.com/i-am-U-hyUn)
